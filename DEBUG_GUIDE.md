# 🔍 문제 진단 가이드

## 문제: 로그인 후 다른 메뉴로 이동하면 로그인 화면으로 튕김

## 📋 확인 방법

### 1단계: 브라우저 개발자 도구 열기
- **Windows/Linux**: `F12` 또는 `Ctrl + Shift + I`
- **Mac**: `Cmd + Option + I`
- **Console 탭**을 열어주세요

### 2단계: 로그인 시도
1. 로그인 페이지에서 비밀번호 입력 후 로그인
2. 콘솔에서 다음 로그들을 확인하세요:
   - 🔑 로그인 API 호출 시작
   - 📥 로그인 API 응답
   - 💾 토큰 저장 완료
   - ✅ 저장된 토큰 확인
   - 🚀 대시보드로 이동

### 3단계: 다른 메뉴 클릭 시 확인
다른 메뉴(예: 교직원 관리, 연수 관리)를 클릭하면 콘솔에 다음이 나타납니다:

**정상적인 경우:**
- 🛡️ ProtectedRoute 체크 (토큰 있음)
- ✅ 인증 통과 - 페이지 렌더링
- ✅ API 성공

**문제가 있는 경우:**
- ❌ API 에러 발생 (401 상태 코드)
- 🚨 401 인증 실패 - 리다이렉트 시작
- 🗑️ 토큰 제거 완료

### 4단계: Network 탭 확인
1. 개발자 도구에서 **Network 탭** 열기
2. 다른 메뉴 클릭
3. 실패한 API 요청 클릭 (빨간색으로 표시됨)
4. **Headers** 탭에서 확인:
   - **Request Headers**에 `Authorization: Bearer ...`가 있는지 확인
   - **Response**에서 에러 메시지 확인

### 5단계: 백엔드 터미널 확인
백엔드 서버를 실행한 터미널에서 다음 로그 확인:
- `인증 미들웨어:` - 요청이 도착했는지
- `토큰 검증 성공:` 또는 `토큰 검증 실패:`

## 🔧 가능한 원인과 해결 방법

### 원인 1: 토큰이 localStorage에 저장되지 않음
**증상:** 콘솔에 "💾 토큰 저장 완료"가 나타나지만 `hasToken: false`
**해결:** 브라우저 설정에서 localStorage가 차단되어 있는지 확인

### 원인 2: API 요청 시 토큰이 헤더에 포함되지 않음
**증상:** Network 탭에서 Request Headers에 `Authorization` 헤더가 없음
**해결:** 프록시 설정 문제일 수 있음

### 원인 3: 백엔드에서 토큰 검증 실패
**증상:** 백엔드 터미널에 "토큰 검증 실패" 메시지
**해결:** JWT_SECRET이 일치하는지 확인

### 원인 4: CORS 문제
**증상:** Network 탭에서 CORS 에러
**해결:** 백엔드 CORS 설정 확인

## 📸 스크린샷 찍기
문제가 발생하면 다음을 스크린샷으로 찍어주세요:
1. 브라우저 콘솔 (전체 로그)
2. Network 탭 (실패한 요청의 Headers)
3. 백엔드 터미널 (에러 메시지)

## 🚀 다음 단계
위의 정보를 확인한 후, 어떤 로그가 나타나는지 알려주시면 정확한 해결 방법을 제시하겠습니다.

